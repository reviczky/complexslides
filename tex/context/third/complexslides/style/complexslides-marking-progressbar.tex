\startmodule complexslides-marking-progressbar
\unprotect

\usemodule[visualcounter]
\definevisualcounter
  [page]
  [progressbar]
  [counter=userpage, palette=colorpalette, width=\the\dimexpr\textwidth\relax]

\definepalet
  [colorpalette]
  [active=foreground:1,
     past=base:0,
   future=base:0]

\setupfootertexts[\usevisualcounter{page}]

\protect
\stopmodule
